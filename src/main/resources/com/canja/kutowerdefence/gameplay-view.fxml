<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.canja.kutowerdefence.ui.GamePlayView">

  <!-- CENTER: Map + Enemies -->
  <center>
    <StackPane>
      <GridPane fx:id="mapGridPane"
                gridLinesVisible="true"
                prefHeight="768.0"
                prefWidth="1024.0">
        <columnConstraints>
          <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="64.0"/>
          <!-- repeat ColumnConstraints as needed... -->
        </columnConstraints>
        <rowConstraints>
          <RowConstraints minHeight="10.0" prefHeight="64.0" vgrow="SOMETIMES"/>
          <!-- repeat RowConstraints as needed... -->
        </rowConstraints>
      </GridPane>
      <Pane fx:id="enemyLayer" pickOnBounds="false"/>
    </StackPane>
  </center>

  <!-- RIGHT: Controls + HUD -->
  <right>
    <VBox alignment="TOP_CENTER" spacing="10" prefWidth="256.0" BorderPane.alignment="CENTER">
      <children>
        <!-- Control Buttons -->
        <Button fx:id="pauseButton"   text="Pause"/>
        <Button fx:id="restartButton" text="Restart"/>
        <Button fx:id="speedButton"   text="1x"/>
        <Button fx:id="exitButton"    text="Exit"/>

        <!-- HUD Overlay -->

        <!-- GOLD -->
        <StackPane>
          <ImageView fx:id="goldFrame" fitWidth="200" preserveRatio="true">
            <image>
              <Image url="@../ui/images/gold_frame.png"/>
            </image>
          </ImageView>
          <HBox alignment="CENTER" spacing="8">
            <ImageView fx:id="goldIcon" fitHeight="24" preserveRatio="true">
              <image>
                <Image url="@../ui/images/coin_icon.png"/>
              </image>
            </ImageView>
            <Label fx:id="goldLabel"
                   text="0"
                   style="-fx-font-size:18px; -fx-text-fill:white;"/>
          </HBox>
        </StackPane>

        <!-- HEALTH -->
        <StackPane>
          <ImageView fx:id="healthFrame" fitWidth="200" preserveRatio="true">
            <image>
              <Image url="@../ui/images/health_frame.png"/>
            </image>
          </ImageView>
          <HBox alignment="CENTER" spacing="8">
            <ImageView fx:id="heartIcon" fitHeight="24" preserveRatio="true">
              <image>
                <Image url="@../ui/images/heart_icon.png"/>
              </image>
            </ImageView>
            <Label fx:id="healthLabel"
                   text="0/0"
                   style="-fx-font-size:18px; -fx-text-fill:white;"/>
          </HBox>
        </StackPane>

        <!-- WAVE -->
        <StackPane>
          <ImageView fx:id="waveFrame" fitWidth="200" preserveRatio="true">
            <image>
              <Image url="@../ui/images/wave_frame.png"/>
            </image>
          </ImageView>
          <HBox alignment="CENTER" spacing="8">
            <ImageView fx:id="shieldIcon" fitHeight="24" preserveRatio="true">
              <image>
                <Image url="@../ui/images/shield_icon.png"/>
              </image>
            </ImageView>
            <Label fx:id="waveLabel"
                   text="0/0"
                   style="-fx-font-size:18px; -fx-text-fill:white;"/>
          </HBox>
        </StackPane>

      </children>
    </VBox>
  </right>

</BorderPane>
